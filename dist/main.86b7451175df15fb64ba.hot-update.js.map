{"version":3,"sources":["webpack:///./src/components/containers/Login.jsx"],"names":["Login","props","state","emailError","email","password","loginError","passError","isEmailValid","validateEmail","setState","ex","test","toLowerCase","e","preventDefault","self","validate","login","then","response","history","push","catch","err","error","target","value","validateAndLogin","bind","React","Component","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","file":"main.86b7451175df15fb64ba.hot-update.js","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\n\nimport adminActions from '../../actions/adminActions';\nimport InputField from '../presentators/form_components/InputField'\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { emailError: null, email: \"\", password: \"\", loginError: null };\n  }\n\n  validate() {\n    const { email, password } = this.state\n    let emailError = null\n    let passError = null\n    const isEmailValid = this.validateEmail(email)\n    \n    if (!isEmailValid || password == \"\") {\n      emailError = isEmailValid ? null : \"Please provide valid email address\"\n      passError = password == \"\" ? \"Please provide valid password\" : null\n      this.setState({emailError: emailError, passError: passError})\n      return false\n    } else {\n      this.setState({emailError: null, passError: null})\n      return true\n    }\n  }\n \n  validateEmail(email) {\n    const ex =  /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n    return ex.test(email.toLowerCase())\n  }\n\n  validateAndLogin(e) {\n    e.preventDefault()\n    const { email,  password } = this.state\n    let self = this\n    if (this.validate()) {\n      this.props.login({email, password})\n      .then((response) => {\n        self.props.history.push(\"/dashboard\")\n      })\n      .catch((err) => {\n        this.setState({loginError: err.error})\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"login col-md-12\">\n          <div className=\"row vertical-align\">\n            <form id=\"Login\" className=\"login-form col-md-4 offset-md-4\">\n              <h2 className=\"company-logo\">WakeCap</h2>\n              <p className=\"login-message\">{this.state.loginError}</p>\n              <InputField error={this.state.emailError} \n                          inputType=\"email\"\n                          name=\"email\"\n                          placeholder=\"Email\" \n                          inputRef=\"email\"\n                          onChange={(e) => {this.setState({email: e.target.value})}}/>\n              <InputField error={this.state.passError} \n                          inputType=\"password\" \n                          placeholder=\"Password\" \n                          inputRef=\"password\"\n                          name=\"password\"\n                          onChange={(e) => {this.setState({password: e.target.value})}}/>\n              <button type=\"submit\" \n                      className=\"btn btn-primary btn-block\" \n                      onClick={this.validateAndLogin.bind(this)}>\n                Login\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return state\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return adminActions(dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"],"sourceRoot":""}